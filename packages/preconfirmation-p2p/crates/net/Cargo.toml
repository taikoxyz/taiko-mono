[package]
name = "preconfirmation-net"
version = "0.1.0"
edition = "2024"
rust-version = "1.88"
license = "MIT"
authors = ["Taiko Labs"]

[features]
default = ["reth-discovery"]
# Enable discovery via reth's discv5 wrapper; can be disabled for minimal builds or alternative
# discovery providers.
reth-discovery = ["dep:reth-discv5"]
# Optional: future delegation of peer id/types to reth-network-peers.
reth-peers = ["dep:reth-network-peers"]
# Optional: run the real TCP transport integration test.
real-transport-test = []

[dependencies]
anyhow.workspace = true
async-trait.workspace = true
discv5.workspace = true
futures.workspace = true
libp2p = { workspace = true, features = ["tcp", "dns", "gossipsub", "request-response", "ping", "identify", "autonat", "relay", "noise", "yamux", "macros", "tokio"] }
libp2p-allow-block-list.workspace = true
libp2p-connection-limits.workspace = true
libp2p-request-response.workspace = true
metrics.workspace = true
metrics-exporter-prometheus.workspace = true
preconfirmation-types = { path = "../types" }
rand.workspace = true
reth-discv5 = { workspace = true, optional = true }
reth-network-peers = { workspace = true, optional = true }
secp256k1.workspace = true
serde.workspace = true
serde_json.workspace = true
ssz_rs.workspace = true
thiserror.workspace = true
tokio.workspace = true
tracing.workspace = true
tracing-subscriber.workspace = true

[dependencies.kona-gossip]
workspace = true

[dependencies.kona-peers]
workspace = true

[dev-dependencies]
tokio = { workspace = true, features = ["full"] }
