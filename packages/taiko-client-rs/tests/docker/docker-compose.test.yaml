services:
  l1_node:
    container_name: l1_node
    image: ghcr.io/foundry-rs/foundry:stable
    restart: unless-stopped
    pull_policy: always
    ports:
      - "18545:8545"
    entrypoint:
      - anvil
      - --host
      - "0.0.0.0"
      - --gas-limit
      - "200000000"

  l2_node:
    container_name: l2_node
    image: us-docker.pkg.dev/evmchain/images/alethia-reth:main
    restart: unless-stopped
    pull_policy: always
    volumes:
      - .:/host
    ports:
      - "28545:8545"
      - "28546:8546"
      - "28551:8551"
    entrypoint:
      - ./alethia-reth
      - node
      - --http
      - --http.addr
      - "0.0.0.0"
      - --http.api
      - eth,net,debug,trace,rpc
      - --ws
      - --ws.addr
      - "0.0.0.0"
      - --chain
      - devnet
      - --disable-discovery
      - --authrpc.jwtsecret
      - /host/jwt.hex
      - --authrpc.addr
      - "0.0.0.0"
      - -vvvv
