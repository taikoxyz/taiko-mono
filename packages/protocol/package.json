{
  "name": "@taiko/protocol",
  "version": "2.3.0",
  "private": true,
  "scripts": {
    "postinstall": "[ -n \"$CI\" ] || foundryup --version $(grep foundry .tool-versions | awk '{print $2}') 2>/dev/null || true",
    "buildMerkle": "ts-node ./utils/airdrop/buildMerkleTree.ts ./utils/airdrop/airdrop_db/example_claimList.json",
    "clean": "rm -rf out abis cache* cache-* && (forge clean || true)",
    "compile:l1": "FOUNDRY_PROFILE=layer1 forge build --build-info --extra-output storage-layout",
    "compile:l2": "FOUNDRY_PROFILE=layer2 forge build --build-info --extra-output storage-layout",
    "compile:genesis": "FOUNDRY_PROFILE=genesis forge build --build-info --extra-output storage-layout",
    "compile:shared": "FOUNDRY_PROFILE=shared forge build --build-info --extra-output storage-layout",
    "compile": "pnpm compile:shared && pnpm compile:l1 && pnpm compile:l2",
    "test:l1": "FOUNDRY_PROFILE=layer1 forge test --extra-output storage-layout --match-path 'test/layer1/**/*.t.sol'",
    "test:l2": "FOUNDRY_PROFILE=layer2 forge test --extra-output storage-layout --match-path 'test/layer2/**/*.t.sol'",
    "test:shared": "FOUNDRY_PROFILE=shared forge test --extra-output storage-layout --match-path 'test/shared/**/*.t.sol'",
    "snapshot:l1": "pnpm test:l1 && FOUNDRY_PROFILE=layer1 forge snapshot --snap gas-reports/layer1-contracts.txt",
    "test": "pnpm test:l1 && pnpm test:l2 && pnpm test:shared",
    "layout:shared": "./script/gen-layouts.sh shared",
    "layout:l1": "./script/gen-layouts.sh layer1",
    "layout:l2": "./script/gen-layouts.sh layer2",
    "test:deploy:l1": "./script/layer1/core/deploy_protocol_on_l1.sh",
    "eslint": "pnpm exec eslint --fix --ignore-path .eslintignore --ext .js,.ts .",
    "fmt:sol": "forge fmt && pnpm solhint 'contracts/**/*.sol'",
    "test:coverage": "mkdir -p coverage && forge coverage --report lcov && lcov --ignore-errors inconsistent --ignore-errors unused --remove ./lcov.info -o ./coverage/lcov.info 'test/' 'script/' 'contracts/thirdparty/' && genhtml coverage/lcov.info --branch-coverage --output-dir coverage --ignore-errors category --ignore-errors inconsistent --ignore-errors corrupt && open coverage/index.html",
    "proposal": "FOUNDRY_PROFILE=layer1 MODE=print forge script script/layer1/proposals/Proposal$P.s.sol:Proposal$P",
    "proposal:dryrun:l1": "FOUNDRY_PROFILE=layer1 MODE=l1dryrun forge script --chain-id=1 --broadcast --rpc-url https://ethereum.publicnode.com script/layer1/proposals/Proposal$P.s.sol:Proposal$P",
    "proposal:dryrun:l2": "FOUNDRY_PROFILE=layer1 MODE=l2dryrun forge script --chain-id=167000 --broadcast --rpc-url https://rpc.taiko.xyz script/layer1/proposals/Proposal$P.s.sol:Proposal$P",
    "genesis:gen": "pnpm compile:l2 && pnpm compile:shared && ts-node --project ./test/genesis/tsconfig.json ./test/genesis/generate/generate.ts",
    "genesis:test": "./test/genesis/genesis.test.sh",
    "export:simconf": "mkdir -p simulation/out && FOUNDRY_PROFILE=layer2 forge test --match-test 'test_L2_NoFeeCheck_simulation' -vv > simulation/out/simconf_$(date +%s).txt"
  },
  "devDependencies": {
    "@types/node": "^20.11.30",
    "@typescript-eslint/eslint-plugin": "^7.4.0",
    "@typescript-eslint/parser": "^7.7.0",
    "eslint": "^8.51.0",
    "eslint-config-prettier": "^9.1.0",
    "eslint-config-standard": "^17.1.0",
    "eslint-plugin-import": "^2.28.1",
    "eslint-plugin-node": "^11.1.0",
    "eslint-plugin-prettier": "^5.1.3",
    "eslint-plugin-promise": "^6.1.1",
    "ethers": "^5.7.2",
    "solc": "0.8.24",
    "solhint": "^6.0.1",
    "ts-node": "^10.9.2",
    "typescript": "^5.2.2"
  },
  "dependencies": {
    "@openzeppelin/contracts": "4.9.6",
    "@openzeppelin/contracts-upgradeable": "4.9.6",
    "ds-test": "github:dapphub/ds-test#e282159d5170298eb2455a6c05280ab5a73a4ef0",
    "forge-std": "github:foundry-rs/forge-std#v1.9.5",
    "merkletreejs": "^0.4.0",
    "optimism": "github:ethereum-optimism/optimism#v1.8.0",
    "p256-verifier": "github:taikoxyz/p256-verifier#v0.1.0",
    "risc0-ethereum": "github:risc0/risc0-ethereum#v3.0.0",
    "solady": "github:Vectorized/solady#v0.1.24",
    "urc": "github:eth-fabric/urc#main",
    "sp1-contracts": "github:succinctlabs/sp1-contracts#v5.0.0"
  }
}
